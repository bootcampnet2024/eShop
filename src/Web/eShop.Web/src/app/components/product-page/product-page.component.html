<app-header></app-header>
<app-navbar></app-navbar>
<main>
  <div class="product-container">
    <div class="product-container__image">
      <img loading="eager" class="image" src="{{ product.imageURL }}"  alt="">
    </div>
    <div class="product-container__info">
      <div class="product-container__info__name">
        <h2>{{ product.name }}</h2>
        <p class="product-container__info__category-name">{{ product.category }}</p>
        <p class="product-container__info__brand-name">{{ product.brand }}</p>
        <p>{{ product.description }}</p>
        <br>
        @if(product.discount){
          <div class="product-discount-price">
            <p class="product-original-price">R$ {{ product.price.toFixed(2) }}</p>
            <div class="product-finalprice-discount">
              <p class="product-price">R$ {{ product.finalPrice.toFixed(2) }}</p>
              <p class="product-discount">{{ product.discount }}% OFF</p>
            </div>
          </div>
          } @else {
          <p class="product-price">R${{ product.finalPrice.toFixed(2) }}</p>
          }
      </div>
      <!-- <div class="product-container__info__product-options">
        @for (option of options; track option.name){
        <div class="option">
          <p>{{option.name}}</p>
        </div>
        }
      </div> -->
      <div class="product-container__info__product-options">
      @if(product.quantity > 0 && product.isActive) {
      <button class="product-container__info__buy-button" (click)="addToCart(true)">Buy Product</button>
      <button class="product-container__info__add-cart-button" (click)="addToCart()">Add to Cart</button>
      } @else {
        <button class="product-container__info__add-cart-button" disabled>Out of Stock!</button>
      }
    </div>
  </div>

    
  </div>
  <div class="similar-products">
    <app-display-products [displayName]="'Related Products'" [showOnlyHighlighted]="false" [productQuantity]="10"
      [categoryId]="categoryId" [currentProductId]="product.id"></app-display-products>
  </div>
  <br>
</main>
<app-footer></app-footer>
